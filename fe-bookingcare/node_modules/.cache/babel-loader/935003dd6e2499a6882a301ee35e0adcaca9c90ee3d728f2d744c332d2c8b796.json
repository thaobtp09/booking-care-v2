{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { getHomeDoctors, getHomeFacilities, getHomeSpecialties } from '../api/home.api';\n\n/**\r\n * Hook lấy dữ liệu cho trang Home\r\n * - Không chứa business logic\r\n * - Chỉ orchestration data cho UI\r\n */\nexport const useHomeData = () => {\n  _s();\n  const [doctors, setDoctors] = useState([]);\n  const [specialties, setSpecialties] = useState([]);\n  const [facilities, setFacilities] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    let isMounted = true;\n    const fetchHomeData = async () => {\n      try {\n        const [doctorRes, specialtyRes, facilityRes] = await Promise.all([getHomeDoctors(), getHomeSpecialties(), getHomeFacilities()]);\n        if (!isMounted) return;\n        setDoctors((doctorRes === null || doctorRes === void 0 ? void 0 : doctorRes.data) || []);\n        setSpecialties((specialtyRes === null || specialtyRes === void 0 ? void 0 : specialtyRes.data) || []);\n        setFacilities((facilityRes === null || facilityRes === void 0 ? void 0 : facilityRes.data) || []);\n      } catch (err) {\n        console.error('HOME API ERROR:', err);\n        if (!isMounted) return;\n        setError(err);\n        // fallback để UI vẫn render\n        setDoctors([]);\n        setSpecialties([]);\n        setFacilities([]);\n      } finally {\n        if (isMounted) {\n          setLoading(false);\n        }\n      }\n    };\n    fetchHomeData();\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n  return {\n    doctors,\n    specialties,\n    facilities,\n    loading,\n    error\n  };\n};\n_s(useHomeData, \"clAzcR4XWw8vfQal3jWxshazis4=\");","map":{"version":3,"names":["useEffect","useState","getHomeDoctors","getHomeFacilities","getHomeSpecialties","useHomeData","_s","doctors","setDoctors","specialties","setSpecialties","facilities","setFacilities","loading","setLoading","error","setError","isMounted","fetchHomeData","doctorRes","specialtyRes","facilityRes","Promise","all","data","err","console"],"sources":["C:/Users/Hi/Desktop/booking-care-v2/fe-bookingcare/src/hooks/useHomeData.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport {\r\n  getHomeDoctors,\r\n  getHomeFacilities,\r\n  getHomeSpecialties,\r\n} from '../api/home.api';\r\n\r\n/**\r\n * Hook lấy dữ liệu cho trang Home\r\n * - Không chứa business logic\r\n * - Chỉ orchestration data cho UI\r\n */\r\nexport const useHomeData = () => {\r\n  const [doctors, setDoctors] = useState([]);\r\n  const [specialties, setSpecialties] = useState([]);\r\n  const [facilities, setFacilities] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const fetchHomeData = async () => {\r\n      try {\r\n        const [doctorRes, specialtyRes, facilityRes] = await Promise.all([\r\n          getHomeDoctors(),\r\n          getHomeSpecialties(),\r\n          getHomeFacilities(),\r\n        ]);\r\n\r\n        if (!isMounted) return;\r\n\r\n        setDoctors(doctorRes?.data || []);\r\n        setSpecialties(specialtyRes?.data || []);\r\n        setFacilities(facilityRes?.data || []);\r\n      } catch (err) {\r\n        console.error('HOME API ERROR:', err);\r\n\r\n        if (!isMounted) return;\r\n        setError(err);\r\n        // fallback để UI vẫn render\r\n        setDoctors([]);\r\n        setSpecialties([]);\r\n        setFacilities([]);\r\n      } finally {\r\n        if (isMounted) {\r\n          setLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchHomeData();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    doctors,\r\n    specialties,\r\n    facilities,\r\n    loading,\r\n    error,\r\n  };\r\n};\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SACEC,cAAc,EACdC,iBAAiB,EACjBC,kBAAkB,QACb,iBAAiB;;AAExB;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACd,IAAIiB,SAAS,GAAG,IAAI;IAEpB,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAM,CAACC,SAAS,EAAEC,YAAY,EAAEC,WAAW,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC/DrB,cAAc,CAAC,CAAC,EAChBE,kBAAkB,CAAC,CAAC,EACpBD,iBAAiB,CAAC,CAAC,CACpB,CAAC;QAEF,IAAI,CAACc,SAAS,EAAE;QAEhBT,UAAU,CAAC,CAAAW,SAAS,aAATA,SAAS,uBAATA,SAAS,CAAEK,IAAI,KAAI,EAAE,CAAC;QACjCd,cAAc,CAAC,CAAAU,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEI,IAAI,KAAI,EAAE,CAAC;QACxCZ,aAAa,CAAC,CAAAS,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEG,IAAI,KAAI,EAAE,CAAC;MACxC,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACX,KAAK,CAAC,iBAAiB,EAAEU,GAAG,CAAC;QAErC,IAAI,CAACR,SAAS,EAAE;QAChBD,QAAQ,CAACS,GAAG,CAAC;QACb;QACAjB,UAAU,CAAC,EAAE,CAAC;QACdE,cAAc,CAAC,EAAE,CAAC;QAClBE,aAAa,CAAC,EAAE,CAAC;MACnB,CAAC,SAAS;QACR,IAAIK,SAAS,EAAE;UACbH,UAAU,CAAC,KAAK,CAAC;QACnB;MACF;IACF,CAAC;IAEDI,aAAa,CAAC,CAAC;IAEf,OAAO,MAAM;MACXD,SAAS,GAAG,KAAK;IACnB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLV,OAAO;IACPE,WAAW;IACXE,UAAU;IACVE,OAAO;IACPE;EACF,CAAC;AACH,CAAC;AAACT,EAAA,CArDWD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}